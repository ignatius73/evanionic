<!--
  Generated template for the DonarPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>donar</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>

    <ion-label text-center>Cuanto quieres donar?</ion-label>

    <ion-item>

        <ion-input name="amount" [(ngModel)]="amount" number placeholder="Importe sin comas ni puntos" required></ion-input>
    </ion-item>
    <ion-item>
        <ion-input name="name" [(ngModel)]="cardholder" required placeholder="Nombre como aparece en la tarjeta" required></ion-input>
    </ion-item>
    <ion-item>
        <ion-input name="billing" [(ngModel)]="billing" required placeholder="Dirección de Facturación" required></ion-input>
    </ion-item>

    <ion-item-divider></ion-item-divider>
    <ion-item *ngIf="pago===true">


        <button ion-button block (tap)="donar()">Donar U$S {{ amount }}</button>
    </ion-item>

    <ion-item *ngIf="pago===false">


        <form action="/" method="post" id="payment-form" #forma="ngForm">

            <div class="form-row">
                <div id="card-element">
                    <!-- a Stripe Element will be inserted here. -->
                </div>

                <!-- Used to display Element errors -->
                <div id="card-errors" role="alert"></div>
            </div>
            <ion-item-divider></ion-item-divider>
            <button ion-button block [disabled]='!amount || !cardholder || !billing'>Add Card</button>

        </form>
    </ion-item>

    <ion-badge>Todos los campos son obligatorios</ion-badge>


    <ion-item class="card-background-page" *ngIf="resultado">
        <ion-card>
            <img [src]="resultado.img" />
            <div class="card-title">{{ resultado.type }}</div>
            <div class="card-subtitle">{{ resultado.status }}</div>
            <div class="card-content">{{ resultado.message }}</div>

        </ion-card>
        <ion-card>


        </ion-card>

        <button ion-button block (tap)=continuar()>Continuar</button>
    </ion-item>




</ion-content>